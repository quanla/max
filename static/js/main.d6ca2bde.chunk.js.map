{"version":3,"sources":["../../../common/react/fragments.js","../../../common/react/static.js","../../../common/react/load2.js","../../../common/utils/equal-deep.js","routes/literacy/word-search/game/generate/conflict.js","routes/literacy/word-search/game/words/read-word.js","../../../common/utils/collections.js","../../../common/utils/arr-path.js","../../../common/react/f-component.js","../../../common/utils/ranges.js","../../../common/react/on-unmounted.js","app/common/redirect.js","app/common/router-history.js","../../../common/react/bind-input-number.js","../../../common/react/ignore-update.js","routes/literacy/word-search/game/generate/generate-matrix.js","../../../common/react/keys/global-mouse-up.js","../../../common/react/timeout-action.js","../../../common/react/bind-checkbox.js","../../../common/utils/random.js","../../../common/react/bind-input.js","../../../common/utils/wait-timeout.js","../../../common/react/use-state.js","../../../common/react/chain-services.js","../../../common/react/state-path-change.js","routes/literacy/word-search/game/generate/apply-words.js","routes/literacy/word-search/game/generate/gen-word-locations.js","routes/literacy/word-search/game/generate/gen-matrix-avoid-words.js","routes/literacy/word-search/game/words/find-word.js","../../../common/react/global-event.js","../../../common/react/static-2.js","../../../common/react/timed-action.js","../../../common/react/timed-refresh.js","routes/literacy/typing-1/buzz.wav","routes/common/layout/layout.jsx","routes/math/match/match-common.jsx","routes/math/match/match-plus.jsx","routes/math/minus/math-minus.jsx","routes/math/match/match-minus.jsx","routes/math/plus-minus-110/math-plus-minus-110.jsx","routes/literacy/word-search/game/grid/grid.jsx","routes/literacy/word-search/game/grid1.jsx","routes/literacy/word-search/game/game.jsx","routes/literacy/word-search/game/word-list/word-list.jsx","routes/literacy/random-word/random-word.jsx","routes/literacy/typing-1/sample/sample.jsx","routes/literacy/typing-1/typing-1.jsx","app/routes.jsx","routes/literacy/word-search/word-search-route.jsx","routes/index/index-route.jsx","index.jsx","app/max-app.jsx","../../../common/utils/fs.js","../../../common/react/keyed.js","../../../common/react/scope.js","../../../common/react/load.js","../../../common/react/ls-state.js","../../../common/react/invoke.js","routes/math/common/gen-numbers.js","routes/math/common/generators/common/gen-int.js","routes/math/common/format-equation.js","../../../common/react/active-events.js","../../../common/browser/parse-url-query.js"],"names":["require","h","createElement","Fragment","exports","fragments","args","fragments2","elements","Component","Static","getInitValue","initValue","props","next","Static1","context","value","getLatestProps","undefined","this","keyed","scope","cs","UseState","Invoke","Load2","fetch","keepOutdatedValue","_key","_","loaded","loading","key","fn","async","isMounted","onChange","reload","equalDeep","o1","o2","k","equalDeep1","inRange","toRange","rangeConflict","conflict","l1","l2","direction","start","y","x","length","crossConflict","v","readWord","matrix","d","s","i","chain","findMinE","col","getValue","quickStop","minVal","minEle","e","findMaxE","maxVal","maxEle","findMinECompare","compare","last","findLastIndex","find","findMinValue","gt","compares","le","v1","v2","lt","ge","findMaxValue","withoutAll","targets","filter","indexOf","remove1Mutate","targetElem","splice","unique","by","ret","keys","push","sort","byFn","clone","slice","e1","e2","createArray","isNaN","Array","fill","map","findMinIndex","minIndex","insertAt","addRemove","element","removeAll","without","unique1","uniqueDeep","findIndex","indexAttr","keyAttr","valueAttr","hasOwnProperty","index","getKey","indexAttrMulti","list","sort1","sortMulti","byFns","b1","b2","reverse","createArray1","createArray2","from","to","addListToSet","set","item","addToSetMutate","addToListMap","listMap","concatToListMap","items","merge","j","mergeListMap","lms","lm","replace","withs","replaceFind","newE","replaceIndex","replaceFind_f","getNewE","upsert","changeFind","changeIndex","flatten1","arr","concat","findValue","replaceBy","byF","replace1","target","with1","split","trues","falses","flatten11","removeIndex","replaceIndex2","newEs","sum","reduce","t","toMap","indexToKey","sum1","switchAmong","getArr","a","divide","weights","extracted","forEach","weight","di","end","Math","floor","swap","newKey","oldKey","get","oldValue","newValue","crossMap","cols","firstCol","lastCols","path","findDuplicateds","jsonUnique","JSON","stringify","parse","joinArr","delimiter","compareCol","newCol","oriCol","added","removed","oe","ne","shuffle","array","currentIndex","i1","i2","temporaryValue","randomIndex","random","isEmpty","isNotEmpty","setEqual","col1","col2","isAllNull","arrStartsWith","startsWith","arrEquals","a1","a2","flip","getPath","obj","attr1","setPath","object","lastAttrs","attr","type","createChild","isArray","Object","assign","setPathO","changePath","updatedValue","locate","cond","first","React","FComponent","updater","onUnmounts","onChangeds","onMounts","mounted","onMount","onUnmount","onChanged","l","prevProps","newState","cb","state","f","removeListener","calculateRange","range","createRangeGross","min","max","orRanges","ranges","r1","r2","toArr","sumRanges","rangeSingle","range0","rangeLength","r","conflict12","rs","ranges2","consumeRanges","rangesGross","tr","exclude","oriRanges","holes","oriRange","exclude12","hole","exclude11","c","sortRanges","equalRanges","insertSorted","rangeAdd","delta","fragmentRanges","fragmenteds","addFraRanges","addFraRange","rsToAdd","rFra","oris","rO","remains","rToAdd","common","rsFra","commonRange","sumRangeWeights","rws","rw","combineRangeWeights","rws1","rws2","getWeight","getMinRangeWeight","rangeWeights","getMaxRangeWeight","extendsRange","expandRange","amount","moveRange","OnUnmounted","action","OnUnmounted1","redirect","location","RedirectRoute","history","routerHistory","createHashHistory","bindInputNumber","IgnoreUpdate","when","onRender","unless","IgnoreUpdate1","nextProps","applyWords","genWordLocations","genMatrixAvoidWords","generateMatrix","size","width","height","wordList","wordLocations","lengths","w","word","console","log","GlobalEvent","GlobalMouseUp","eventName","TimedAction","TimeoutAction","delay","Date","now","time","bindCheckbox","checked","onClick","readOnly","selectRandom","randomId","text","possible","charAt","bindInput","waitTimeout","Promise","resolve","reject","setTimeout","UseState1","unmounted","callback","value1","setState","change","reduceValue","services","gather","cs1","prev","name","spc","row","locations","loc","genLoc","preLocs","findWord","String","fromCharCode","charCodeAt","horizontal","vertical","Static2","listener","listener1","window","addEventListener","removeEventListener","TimedRefresh","skippable","TimedAction1","setupTimeout","clear","timeout","clearTimeout","getRefreshTime","forceUpdate","render","module","Layout","className","MatchCommon","LsState","defaultValue","config","Load","generate","result","feeds","join","combis","nums","combi","randomFrom","genNumbers","genInt","n","defaultConfig","firstMin","numCount","eqCount","n1","Grid","onMouseDown","onMouseEnter","onTouchEnd","getColor","markedLocations","cell","ActiveEvents","events","onTouchStart","touches","preventDefault","onTouchMove","rootRect","closest","nodeName","getBoundingClientRect","touch","clientX","left","clientY","top","ae","ref","cx","style","node","check","parentNode","Game","sentence","toWordList","wl","selecting","markeds","disabled","toLowerCase","hideWords","isSelected","onHold","onRelease","selected","onMouseUp","onMouseLeave","WordList","m","isValid","pos","char","hintWord","Grid1","autoHideWords","selectNextWord","oldWord","words","repeatUntil","count","sample","substring","error","remain","PlaySound","src","snd","Audio","play","pause","routes","component","eq","formatEquation","expanded","label","parseUrlQuery","search","params","trim","Sample","typing","placeholder","IndexRoute","ReactDOM","exact","document","getElementById","fList","chain1","and","s1","load2","Load1","str","localStorage","getItem","removeItem","setItem","onMounted","Invoke1","numberGenerators","num","numberGenerator","until","genInt1","numbers","deltas","toMath1","number","toDeltas","dom","onRemoveds","reactName","domName","or","pair","encodedValue","decodeURIComponent"],"mappings":"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","file":"static/js/main.d6ca2bde.chunk.js","sourcesContent":["const {createElement: h, Fragment} = require(\"react\");\n\nconst fragments = (...args) => h(Fragment, {},\n    ...args,\n);\nexports.fragments = fragments;\n\nconst fragments2 = (elements) => h(Fragment, {},\n    ...elements,\n);\nexports.fragments2 = fragments2;\n","const {createElement: h, Component} = require(\"react\");\n\nconst Static = ({getInitValue, initValue, props, next}) => h(Static1, {getInitValue, initValue, props, next});\nexports.Static = Static;\n\nclass Static1 extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.value = props.getInitValue ? props.getInitValue({\n            getLatestProps: () => this.props.props,\n        }) : props.initValue !== undefined ? props.initValue : props.value;\n    }\n    render() {\n        const {next} = this.props;\n\n        return next(this.value);\n    }\n}\n","const {fragments} = require(\"./fragments\");\nconst {keyed} = require(\"./keyed\");\nconst {scope} = require(\"./scope\");\nconst {cs} = require(\"./chain-services\");\nconst {UseState} = require(\"./use-state\");\nconst {Invoke} = require(\"./invoke\");\n\nconst Load2 = ({fetch, next, keepOutdatedValue, props, _key}) => cs(\n    [\"loaded\", (_, next) => UseState({next})],\n    ({loaded}) => {\n        const loading = loaded.value == null || loaded.value.key !== _key;\n\n        return fragments(\n            loading && cs(\n                keyed(_key),\n                () => (\n                    Invoke({\n                        props,\n                        fn: async ({isMounted, getLatestProps}) => {\n                            const value = await fetch({getLatestProps});\n                            if (!isMounted()) {\n                                return;\n                            }\n                            loaded.onChange({value, key: _key});\n                        },\n                    })\n                )\n            ),\n\n            next && next({\n                loading,\n                ...scope(loaded, [\"value\"]),\n                value: !loaded.value || _key !== loaded.value.key && !keepOutdatedValue ? undefined : loaded.value.value,\n                // value: loading && !keepOutdatedValue ? undefined : loaded.value.value,\n                reload: async () => {\n                    const value = await fetch();\n                    loaded.onChange({value, key: _key});\n                },\n            }),\n        );\n    },\n);\nexports.Load2 = Load2;\n","\nfunction equalDeep(o1, o2) {\n    if (o1 === o2) {\n        return true;\n    }\n\n    if (o1 == null && o2 == null) {\n        return false;\n    }\n\n    if (o1 == null || o2 == null) {\n        return false;\n    }\n\n    if (typeof o1 === \"object\" && typeof o2 === \"object\") {\n        for (const k in o1) {\n            if (!equalDeep(o1[k], o2[k])) {\n                return false;\n            }\n        }\n        for (const k in o2) {\n            if (o1[k] === undefined && o2[k] !== undefined) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    return false;\n}\nexports.equalDeep = equalDeep;\nexports.equalDeep1 = equalDeep;\n","const {inRange} = require(\"../../../../../../../../common/utils/ranges\");\nconst {toRange, conflict: rangeConflict} = require(\"../../../../../../../../common/utils/ranges\");\n\nconst conflict = (l1, l2) => {\n    if (l1.direction === l2.direction) {\n        if (l1.direction === \"horizontal\") {\n            if (l1.start.y !== l2.start.y) {\n                return false;\n            } else {\n                return rangeConflict(\n                    toRange(l1.start.x, l1.length),\n                    toRange(l2.start.x, l2.length),\n                );\n            }\n        } else {\n            if (l1.start.x !== l2.start.x) {\n                return false;\n            } else {\n                return rangeConflict(\n                    toRange(l1.start.y, l1.length),\n                    toRange(l2.start.y, l2.length),\n                );\n            }\n        }\n    } else {\n        if (l1.direction === \"horizontal\") {\n            return crossConflict({\n                h: l1,\n                v: l2,\n            });\n        } else {\n            return crossConflict({\n                h: l2,\n                v: l1,\n            });\n        }\n    }\n};\nexports.conflict = conflict;\n\nconst crossConflict = ({h, v}) => {\n    if (!inRange(v.start.x, toRange(h.start.x, h.length))) {\n        return false;\n    }\n    if (!inRange(h.start.y, toRange(v.start.y, v.length))) {\n        return false;\n    }\n    return true;\n}\n","const readWord = ({matrix, d: {start, direction, length}}) => {\n    let s = \"\";\n    for (let i = 0; i < length; i++) {\n        const {x,y} = direction === \"horizontal\" ? {\n            x: start.x + i,\n            y: start.y,\n        } : {\n            x: start.x,\n            y: start.y + i,\n        };\n        if (x > matrix[0].length - 1) {\n            return null;\n        }\n        if (y > matrix.length - 1) {\n            return null;\n        }\n        s += matrix[y][x];\n    }\n    return s;\n};\nexports.readWord = readWord;\n","const {equalDeep1} = require(\"./equal-deep\");\nconst {chain} = require(\"./fs\");\n\nconst findMinE = (col, getValue, quickStop) => {\n    let minVal = undefined;\n    let minEle = undefined;\n\n    for (const e of col) {\n        const value = getValue(e);\n        if (value == null) {\n            continue;\n        }\n\n        if (quickStop !== undefined && quickStop===value) {\n            return e;\n        }\n        if (minVal === undefined || minVal > value) {\n            const v = value;\n            if (v != null) {\n                minVal = v;\n                minEle = e;\n            }\n        }\n    }\n    return minEle;\n};\n\nexports.findMinE = findMinE;\n\nconst findMaxE = (col, getValue = v=>v, quickStop) => {\n    let maxVal = undefined;\n    let maxEle = undefined;\n\n    for (const e of col) {\n        const value = getValue(e);\n        if (quickStop !== undefined && quickStop===value) {\n            return e;\n        }\n\n        if (maxVal === undefined || maxVal < value) {\n            const v = value;\n            if (v != null) {\n                maxVal = v;\n                maxEle = e;\n            }\n        }\n    }\n    return maxEle;\n};\nexports.findMaxE = findMaxE;\n\nconst findMinECompare = (col, compare) => {\n    let maxEle = undefined;\n\n    for (const e of col) {\n        if (maxEle === undefined || compare(maxEle, e) > 0) {\n            maxEle = e;\n        }\n    }\n    return maxEle;\n};\nexports.findMinECompare = findMinECompare;\n\nconst last = (col) => {\n    return col[col.length - 1];\n};\nexports.last = last;\n\nconst findLastIndex = (col, find) => {\n    for (let i = col.length - 1; i > -1; i--) {\n        if (find(col[i])) {\n            return i;\n        }\n    }\n    return -1;\n};\nexports.findLastIndex = findLastIndex;\n\nconst findMinValue = (col, getValue = v=>v, {gt = compares.gt}={}) => {\n    if (col==null) {\n        return null;\n    }\n\n    let minVal = undefined;\n\n    for (const e of col) {\n        if (e == null) {\n            continue;\n        }\n        const v = getValue(e);\n        if (minVal === undefined || gt(minVal, v)) {\n            if (v != null) {\n                minVal = v;\n            }\n        }\n    }\n    return minVal === undefined ? null : minVal;\n};\n\nexports.findMinValue = findMinValue;\n\nconst compares = {\n    le: (v1, v2) => v1 <= v2,\n    lt: (v1, v2) => v1 <  v2,\n    ge: (v1, v2) => v1 >= v2,\n    gt: (v1, v2) => v1 >  v2,\n};\n\nconst findMaxValue = (col, getValue = (v=>v), {lt = compares.lt}={}) => {\n    if (col==null) {\n        return null;\n    }\n    let maxVal = undefined;\n\n    for (const e of col) {\n        if (e == null) {\n            continue;\n        }\n        const value = getValue(e);\n        if (maxVal === undefined || lt(maxVal, value)) {\n            if (value != null) {\n                maxVal = value;\n            }\n        }\n    }\n    return maxVal === undefined ? null : maxVal;\n};\n\nexports.findMaxValue = findMaxValue;\n\nconst findMinIndex = (col, getValue) => {\n    let minVal = undefined;\n    let minIndex = undefined;\n\n    for (let i = 0; i < col.length; i++) {\n        const e = col[i];\n\n        if (minVal === undefined || minVal > getValue(e)) {\n            const v = getValue(e);\n            if (v != null) {\n                minVal = v;\n                minIndex = i;\n            }\n        }\n    }\n    return minIndex;\n};\nexports.findMinIndex = findMinIndex;\n\n\nfunction insertAt(col, e, i) {\n    return [\n        ...col.slice(0, i),\n        e,\n        ...col.slice(i),\n    ];\n}\nexports.insertAt = insertAt;\n\nfunction addRemove(col) {\n    return (element) => {\n        col.push(element);\n\n        return () => remove1Mutate(col, element);\n    }\n}\nexports.addRemove = addRemove;\n\nfunction withoutAll(col, targets) {\n    return col.filter((e) => !~targets.indexOf(e));\n}\nexports.withoutAll = withoutAll;\n\n// @deprecated\nexports.removeAll = withoutAll;\n\nfunction remove1Mutate(col, targetElem) {\n    if (col == null) {\n        return;\n    }\n\n    let i = col.indexOf(targetElem);\n    if (i === -1) {\n        return;\n    }\n    col.splice(i, 1);\n}\nexports.remove1Mutate = remove1Mutate;\n\nfunction without(targetElem, col) {\n    if (col == null) {\n        return;\n    }\n    return col.filter((e) => e!==targetElem);\n}\nexports.without = without;\n\nfunction unique(col, by = v=>v) {\n    if (!col) {\n        return col;\n    }\n    const ret = [];\n    const keys = [];\n    for (const e of col) {\n        const key = by(e);\n        if (!~keys.indexOf(key)) {\n            ret.push(e);\n            keys.push(key);\n        }\n    }\n    return ret;\n}\nexports.unique = unique;\nexports.unique1 = unique;\n\nfunction uniqueDeep(col, by = v=>v) {\n    if (!col) {\n        return col;\n    }\n    const ret = [];\n    const keys = [];\n    for (const e of col) {\n        const key = by(e);\n        if (!~keys.findIndex((k) => equalDeep1(k, key))) {\n            ret.push(e);\n            keys.push(key);\n        }\n    }\n    return ret;\n}\nexports.uniqueDeep = uniqueDeep;\n\nfunction indexAttr(col, keyAttr, valueAttr) {\n    if (col == null) {\n        return {};\n    }\n    let map = {};\n    for (let i = 0; i < col.length; i++) {\n        const e = col[i];\n        if (map.hasOwnProperty(e[keyAttr])) {\n            throw `Property existed [${e[keyAttr]}]`;\n        }\n        map[e[keyAttr]] = valueAttr ? e[valueAttr] : e;\n    }\n    return map;\n}\nexports.indexAttr = indexAttr;\n\nfunction index(col, getKey, getValue) {\n    if (col == null) {\n        return {};\n    }\n    let map = {};\n    for (let i = 0; i < col.length; i++) {\n        const e = col[i];\n        if (map.hasOwnProperty(getKey(e))) {\n            throw `Property existed [${getKey(e)}]`;\n        }\n        map[getKey(e)] = getValue ? getValue(e) : e;\n    }\n    return map;\n}\nexports.index = index;\n\nfunction indexAttrMulti(col, keyAttr, valueAttr) {\n    if (col == null) {\n        return {};\n    }\n    let map = {};\n    for (let i = 0; i < col.length; i++) {\n        const e = col[i];\n        let list = map[e[keyAttr]];\n        if (list == null) {\n            list = [];\n            map[e[keyAttr]] = list;\n        }\n        list.push(valueAttr ? e[valueAttr] : e);\n    }\n    return map;\n}\nexports.indexAttrMulti = indexAttrMulti;\n\nfunction sort(col, byFn = v=>v, compare = (v1,v2) => v1 > v2 ? 1 : -1) {\n    if (col == null) {\n        return null;\n    }\n    let clone = col.slice(0);\n    clone.sort((e1, e2) => {\n        const v1 = byFn(e1);\n        const v2 = byFn(e2);\n        if (v1 === v2) {\n            return 0;\n        }\n        if (v1 == null) {\n            return -1;\n        }\n        if (v2 == null) {\n            return 1;\n        }\n        return compare(v1, v2);\n    });\n    return clone;\n}\nexports.sort = sort;\nexports.sort1 = sort;\n\nfunction sortMulti(col, byFns) {\n    if (col == null) {\n        return null;\n    }\n    let clone = col.slice(0);\n    clone.sort((e1, e2) => {\n        for (const byFn of byFns) {\n            const b1 = byFn(e1);\n            const b2 = byFn(e2);\n            if (b1 > b2) {\n                return 1;\n            }\n            if (b1 < b2) {\n                return -1;\n            }\n        }\n        return 0;\n    });\n    return clone;\n}\nexports.sortMulti = sortMulti;\n\nfunction reverse(col) {\n    if (col == null) return null;\n\n    let clone = col.slice(0);\n    clone.reverse();\n    return clone;\n}\nexports.reverse = reverse;\n\nfunction createArray(length) {\n    if (isNaN(length)) {\n        throw \"[createArray] Length is not a number: \" + length;\n    }\n    return new Array(length).fill(0).map((_, i) => i);\n}\nexports.createArray = createArray;\nexports.createArray1 = createArray;\n\nfunction createArray2(from, to) {\n    let ret = [];\n    for (let i = from; i < to; i++) {\n        ret.push(i);\n    }\n    return ret;\n}\nexports.createArray2 = createArray2;\n\nfunction addListToSet(list, set) {\n    set = set.slice(0);\n    for (const item of list) {\n        if (!~set.indexOf(item)) {\n            set.push(item);\n        }\n    }\n    return set;\n}\nexports.addListToSet = addListToSet;\n\nfunction addToSetMutate(e, set) {\n    if (!~set.indexOf(e)) {\n        set.push(e);\n    }\n    return set;\n}\nexports.addToSetMutate = addToSetMutate;\n\nfunction addToListMap(listMap, key, item) {\n    let list = listMap[key];\n    if (list == null) {\n        list = [];\n        listMap[key] = list;\n    }\n    list.push(item);\n}\nexports.addToListMap = addToListMap;\n\nfunction concatToListMap(listMap, key, items) {\n    listMap[key] = [...listMap[key]||[], ...items];\n}\nexports.concatToListMap = concatToListMap;\n\nconst merge = (col, getKey, merge) => {\n    col = col.slice(0);\n\n    let ret = [];\n    for (let i = 0; i < col.length; i++) {\n        let e = col[i];\n        const key = getKey(e);\n\n        for (let j = i+1; j < col.length; j++) {\n            const e2 = col[j];\n            if (getKey(e2) === key) {\n                e = merge(e, e2);\n                col.splice(j, 1);\n                j--;\n            }\n        }\n        ret.push(e);\n    }\n    return ret;\n};\nexports.merge = merge;\n\nfunction mergeListMap(...lms) {\n    const ret = {};\n    for (const lm of lms) {\n        for (const key in lm) {\n            if (!ret.hasOwnProperty(key)) {\n                ret[key] = lm[key];\n            } else {\n                ret[key] = [...ret[key], ...lm[key]];\n            }\n        }\n    }\n    return ret;\n}\nexports.mergeListMap = mergeListMap;\n\nfunction replace(col, targets, withs) {\n    return col.map((e) => {\n        const indexOf = targets.indexOf(e);\n        if (indexOf > -1) {\n            return withs[indexOf];\n        } else {\n            return e;\n        }\n    });\n}\nexports.replace = replace;\n\nfunction replaceFind(col, newE, find) {\n    if (col == null) {\n        return null;\n    }\n    const index = col.findIndex(find);\n    if (index === -1) {\n        return col;\n    }\n    return replaceIndex(index, col, newE);\n}\nexports.replaceFind = replaceFind;\n\nfunction replaceFind_f(col, getNewE, find) {\n    if (col == null) {\n        return null;\n    }\n    const index = col.findIndex(find);\n    if (index === -1) {\n        return col;\n    }\n    return replaceIndex(index, col, getNewE(col[index]));\n}\nexports.replaceFind_f = replaceFind_f;\n\nconst upsert = (col, find, newE) => {\n    const index = col.findIndex(find);\n    if (index === -1) {\n        return [...col, newE];\n    } else {\n        return [...col.slice(0, index), newE, ...col.slice(index + 1)];\n    }\n};\nexports.upsert = upsert;\n\n\nfunction changeFind(col, find, by) {\n    if (col == null) {\n        return null;\n    }\n    const index = col.findIndex(find);\n    if (index === -1) {\n        return col;\n    }\n    return changeIndex(index, col, by);\n}\nexports.changeFind = changeFind;\n\nconst findValue = (col, getValue) => {\n    for (let i = 0; i < col.length; i++) {\n        const e = col[i];\n\n        const value = getValue(e, i);\n        if (value != null) {\n            return value;\n        }\n    }\n    return null;\n};\nexports.findValue = findValue;\n\n\nfunction replaceBy(col, find, byF) {\n    if (col == null) {\n        return null;\n    }\n    return col.map((e) => find(e) ? byF(e) : e);\n}\nexports.replaceBy = replaceBy;\n\nfunction replace1(col, target, with1) {\n    return col.map((e) => e === target ? with1 : e);\n}\nexports.replace1 = replace1;\n\nfunction split(col, by) {\n    if (col == null) {\n        return [];\n    }\n    let trues = [];\n    let falses = [];\n    for (const e of col) {\n        (by(e) ? trues : falses).push(e);\n    }\n    return [trues, falses];\n}\nexports.split = split;\n\nfunction flatten1(col) {\n    if (col == null) {\n        return [];\n    }\n    let ret = [];\n    for (const arr of col) {\n        if (arr) {\n            ret = ret.concat(arr);\n        }\n    }\n    return ret;\n}\nexports.flatten1 = flatten1;\nexports.flatten11 = flatten1;\n\nconst removeIndex = (index, col) => {\n    return col.filter((e, i) => i !== index);\n};\nexports.removeIndex = removeIndex;\n\nconst replaceIndex = (index, col, newE) => {\n    return col.map((e, i) => i !== index ? e : newE);\n};\nexports.replaceIndex = replaceIndex;\n\n// const replaceLast = (index, col, newE) => {\n//     return col.map((e, i) => i !== index ? e : newE);\n// };\n// exports.replaceLast = replaceLast;\n\nconst replaceIndex2 = (index, col, newEs) => {\n    return [\n        ...col.slice(0, index),\n        ...newEs,\n        ...col.slice(index+1),\n    ];\n};\nexports.replaceIndex2 = replaceIndex2;\n\nconst changeIndex = (index, col, by) => {\n    return col.map((e, i) => i !== index ? e : by(e));\n};\nexports.changeIndex = changeIndex;\n\nfunction toMap(arr, indexToKey) {\n    const ret = {};\n    for (let i = 0; i < arr.length; i++) {\n        ret[indexToKey(i)] = arr[i];\n    }\n    return ret;\n}\nexports.toMap = toMap;\n\nfunction sum(arr, getValue = v=>v) {\n    if (arr==null) {\n        return 0;\n    }\n    return arr.reduce((t, e, i) => t+(getValue(e, i)||0), 0);\n}\nexports.sum = sum;\nexports.sum1 = sum;\n\nconst switchAmong = (arr) => {\n    const getArr = typeof arr === \"function\" ? arr : () => arr;\n\n    let index = 0;\n\n    return () => {\n        index++;\n        const a = getArr();\n        if (index >= a.length) {\n            index = 0;\n        }\n        return a[index];\n    };\n};\n\nexports.switchAmong = switchAmong;\n\n\nconst divide = (col, weights) => {\n\n    let ret = [];\n    let extracted = 0;\n    weights.forEach((weight, di) => {\n        const end = di === weights.length - 1 ? col.length :\n            extracted + Math.floor(weight*col.length)\n        ;\n        ret.push(col.slice(extracted, end));\n        extracted = end;\n    });\n\n    return ret;\n};\nexports.divide = divide;\n\n\nconst swap = ({get, set}, newKey, oldKey) => {\n    const oldValue = get(oldKey);\n    const newValue = get(newKey);\n\n    set(oldValue, newKey);\n    set(newValue, oldKey);\n};\nexports.swap = swap;\n\n\nconst crossMap = (cols, fn) => {\n    if (cols == null || cols.length === 0) {\n        return [];\n    }\n    if (cols.length === 1) {\n        return cols[0].map((e) => fn([e]));\n    }\n    const [firstCol, ...lastCols] = cols;\n\n    let ret = [];\n    for (const e of firstCol) {\n        ret = [...ret, ...crossMap(lastCols, (path) => fn([e, ...path]))];\n    }\n    return ret;\n};\n\nexports.crossMap = crossMap;\n\nconst findDuplicateds = (col) => {\n    const ret = [];\n    for (let i = 0; i < col.length; i++) {\n        const e = col[i];\n        if (ret.indexOf(e) > -1) {\n            continue;\n        }\n        for (let j = i+1; j < col.length; j++) {\n            const e2 = col[j];\n            if (e2 === e) {\n                ret.push(e);\n                break;\n            }\n        }\n    }\n    return ret;\n};\nexports.findDuplicateds = findDuplicateds;\n\n\nconst jsonUnique = (col) => chain(\n    col.map((e) => JSON.stringify(e)),\n    unique,\n    (col) => col.map((s) => JSON.parse(s)),\n);\nexports.jsonUnique = jsonUnique;\n\nconst joinArr = (arr, delimiter) => {\n    if (arr== null || arr.length < 2) {\n        return arr;\n    }\n    let ret = [];\n    for (let i = 0; i < arr.length; i++) {\n        const e = arr[i];\n        if (i > 0) {\n            ret.push(delimiter);\n        }\n        ret.push(e);\n    }\n    return ret;\n};\nexports.joinArr = joinArr;\n\nconst compareCol = (newCol, oriCol, compare = (v1,v2) => v1===v2) => {\n    if (oriCol == null) {\n        oriCol = [];\n    }\n    if (newCol == null) {\n        newCol = [];\n    }\n\n    let added   = [];\n    let removed = [];\n    for (const oe of oriCol) {\n        if (newCol.find((ne) => compare(ne, oe)) == null) {\n            removed.push(oe);\n        }\n    }\n    for (const ne of newCol) {\n        if (oriCol.find((oe) => compare(ne, oe)) == null) {\n            added.push(ne);\n        }\n    }\n\n    return {added, removed};\n};\n\nexports.compareCol = compareCol;\n\n\nconst shuffle = array => {\n    array = array.slice(0);\n\n    let currentIndex = array.length;\n\n    const swap = (i1, i2) => {\n        const temporaryValue = array[i1];\n        array[i1] = array[i2];\n        array[i2] = temporaryValue;\n    };\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n        const randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex --;\n\n        swap(currentIndex, randomIndex);\n    }\n\n    return array;\n};\nexports.shuffle = shuffle;\n\nconst isEmpty = (col) => {\n    return col == null || col.length === 0;\n};\nexports.isEmpty = isEmpty;\n\nconst isNotEmpty = (col) => {\n    return !isEmpty(col);\n};\nexports.isNotEmpty = isNotEmpty;\n\nconst setEqual = (col1, col2) => {\n    if (col1.length !== col2.length) {\n        return false;\n    }\n\n    for (const x of col1) {\n        if (col2.indexOf(x) === -1) {\n            return false;\n        }\n    }\n\n    return true;\n};\nexports.setEqual = setEqual;\n\nconst isAllNull = (col) => {\n    if (col === null) {\n        return null;\n    }\n\n    for (const v of col) {\n        if (v !== null) {\n            return false;\n        }\n    }\n\n    return true;\n};\nexports.isAllNull = isAllNull;\n\n\nconst arrStartsWith = (startsWith, arr) => {\n    if (arr == null) {\n        return startsWith == null;\n    }\n    if (startsWith == null) {\n        return true;\n    }\n    if (startsWith.length > arr.length) {\n        return true;\n    }\n\n    return arrEquals(arr.slice(0, startsWith.length), startsWith);\n};\nexports.arrStartsWith = arrStartsWith;\n\nconst arrEquals = (a1, a2) => {\n\n    if (a1 == null) {\n        return a2 == null;\n    }\n    if (a2 == null) {\n        return false;\n    }\n    if (a1.length !== a2.length) {\n        return false;\n    }\n\n    for (let i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) {\n            return false;\n        }\n    }\n\n    return true;\n};\nexports.arrEquals = arrEquals;\n\nfunction flip(i1, i2, col) {\n    return col.map((e, i) => i === i1 ? col[i2] : i === i2 ? col[i1] : e);\n}\nexports.flip = flip;\n","\nfunction getPath(obj, path) {\n    if (path == null) {\n        return obj;\n    }\n    for (const attr1 of path) {\n        if (obj == null) {\n            return obj;\n        }\n        const [attr] = typeof attr1 === \"string\" ? (\n            attr1.indexOf(\"!\") > 0 ? attr1.split(\"!\") : [attr1]\n        ) : typeof attr1 === \"function\" ? (\n            [attr1(obj)]\n        ) : (\n            [attr1]\n        );\n        obj = obj[attr];\n    }\n    return obj;\n}\nexports.getPath = getPath;\n\nfunction setPath(object, path, value) {\n    if (path.length === 0) {\n        return value;\n    }\n\n    let [attr1, ...lastAttrs] = path;\n\n    const [attr, type] = typeof attr1 === \"string\" ? (\n        attr1.indexOf(\"!\") > 0 ? attr1.split(\"!\") : [attr1]\n    ) : typeof attr1 === \"function\" ? (\n        [attr1(object)]\n    ) : (\n        [attr1]\n    );\n\n    const createChild = () => type === \"arr\" ? [] : {};\n    if (Array.isArray(object)) {\n        let clone = object ? object.slice(0) : [];\n        clone[attr] = setPath(object && object[attr] || createChild(), lastAttrs, value);\n        return clone;\n    } else {\n        return Object.assign({}, object, {[attr]: setPath(object && object[attr] || createChild(), lastAttrs, value)});\n    }\n\n}\nexports.setPath = setPath;\n\nfunction setPathO(object, path, value) {\n    if (path.length === 0) {\n        return value;\n    }\n\n    let [attr, ...lastAttrs] = path;\n\n    return Object.assign({}, object, {[attr]: setPathO(object && object[attr] || {}, lastAttrs, value)});\n}\nexports.setPathO = setPathO;\n\nfunction changePath(object, path, fn) {\n    let oldValue = getPath(object, path);\n    let updatedValue = fn(oldValue);\n    return updatedValue !== oldValue ? setPath(object, path, updatedValue) : object;\n}\nexports.changePath = changePath;\n\n\nconst locate = (obj, path) => {\n    if (obj == null) {\n        return null;\n    }\n    const [first, ...last] = path;\n\n    const ret = ((cond) => {\n        if (typeof cond === \"object\") {\n            return obj.find((item) => !Object.keys(cond).find((k) => cond[k] !== item[k]));\n        } else {\n            return obj[cond];\n        }\n    })(first);\n\n    if (last.length) {\n        return locate(ret, last);\n    } else {\n        return ret;\n    }\n};\nexports.locate = locate;","const React = require(\"react\");\nconst {addRemove} = require(\"../utils/collections\");\n\nclass FComponent extends React.Component {\n\n    constructor(props, context, updater) {\n        super(props, context, updater);\n\n        this.onUnmounts = [];\n        this.onChangeds = [];\n        this.onMounts = [];\n        this.mounted = false;\n\n        this.onMount = addRemove(this.onMounts);\n        this.onUnmount = addRemove(this.onUnmounts);\n        this.onChanged = addRemove(this.onChangeds);\n    }\n\n    componentDidMount() {\n        this.mounted = true;\n        this.onMounts.forEach((l)=> l());\n    }\n\n    componentWillUnmount() {\n        this.mounted = false;\n        this.onUnmounts.forEach((l)=> l());\n    }\n\n    componentDidUpdate(prevProps) {\n        this.onChangeds.forEach((l)=> l(prevProps));\n    }\n\n    setState(newState, cb) {\n        if (this.mounted) {\n            super.setState(newState, cb);\n        } else {\n            this.state = Object.assign(this.state, newState);\n            cb && cb();\n        }\n    }\n\n    forceUpdate() {\n        if (this.mounted) {\n            super.forceUpdate();\n        }\n    }\n\n    onChanged1(f) {\n        const done = f();\n        if (done) {\n            return;\n        }\n\n        const removeListener = this.onChanged(() => {\n            const done = f();\n            if (done) {\n                removeListener();\n            }\n        });\n    };\n}\nexports.FComponent = FComponent;\n","const {chain} = require(\"./fs\");\nconst {findMinValue, findMaxValue} = require(\"./collections\");\n\nconst sum = require(\"./collections\").sum;\n\nconst {sort} = require(\"./collections\");\n\n\nconst calculateRange = (col) => {\n    if (col == null || col.length === 0) {\n        return null;\n    }\n    let ret = {from: col[0], to: col[0]};\n    for (let i = 1; i < col.length; i++) {\n        const e = col[i];\n        if (e < ret.from) {\n            ret.from = e;\n        } else if (e > ret.to) {\n            ret.to = e;\n        }\n    }\n    return ret;\n};\nexports.calculateRange = calculateRange;\n\nconst inRange = (value, range, {ge, lt} = compares) => {\n    if (range == null) {\n        return false;\n    }\n    return (range.from == null || ge(value, range.from)) && (range.to == null || lt(value, range.to));\n};\nexports.inRange = inRange;\n\nconst createRangeGross = (v1, v2) => {\n    return {\n        from: Math.min(v1, v2),\n        to: Math.max(v1, v2) + 1,\n    };\n};\nexports.createRangeGross = createRangeGross;\n\nconst orRanges = (ranges) => {\n    ranges = ranges.slice(0);\n    for (let i = 0; i < ranges.length; i++) {\n        for (let j = i+1; j < ranges.length; j++) {\n            const r1 = ranges[i];\n            const r2 = ranges[j];\n\n            if (conflict(r1, r2)) {\n                j--;\n                ranges[i] = createRangeGross(r1, r2);\n                ranges.splice(j,1);\n            }\n\n        }\n    }\n    return ranges;\n};\nexports.orRanges = orRanges;\n\n\nconst toArr = (range) => {\n    return new Array(range.to - range.from).fill(0).map((_, i) => i + range.from);\n};\nexports.toArr = toArr;\n\nconst sumRanges = (ranges) => {\n    let ret = {from: 0, to: 0};\n    for (const range of ranges) {\n        ret.from += range.from;\n        ret.to += range.to;\n    }\n    return ret;\n};\nexports.sumRanges = sumRanges;\n\nconst rangeSingle = (v) => ({from: v, to: v+1});\nexports.rangeSingle = rangeSingle;\n\nconst range0 = (v) => ({from: v, to: v});\nexports.range0 = range0;\n\nconst toRange = (v, length) => {\n    if (length > 0) {\n        return ({from: v, to: v + length});\n    } else {\n        return ({from: v, to: v});\n    }\n};\nexports.toRange = toRange;\n\nconst rangeLength = (r) => r == null ? 0 : r.to - r.from;\nexports.rangeLength = rangeLength;\n\nconst conflict12 = (r1, rs) => {\n    return rs.find((r2) => conflict(r1, r2));\n};\nexports.conflict12 = conflict12;\n\nconst conflict = (r1, r2, {ge} = compares) => {\n    r1[\"r1 is null\"];\n    r2[\"r2 is null\"];\n\n    if (r1.from != null && r2.to != null && ge(r1.from, r2.to)) {\n        return false;\n    }\n    if (r2.from != null && r1.to != null && ge(r2.from, r1.to)) {\n        return false;\n    }\n    return true;\n};\nexports.conflict = conflict;\n\n/**\n * Add all layers of ranges (2-dimention) to each other so we have a single layer of ranges\n * @param ranges2\n * @returns {Array}\n */\nconst merge = (...ranges2) => {\n\n    let ret = [];\n\n    for (;;) {\n        ranges2 = ranges2.filter((arr) => arr != null && arr.length > 0);\n\n        if (ranges2.length === 0) {\n            break;\n        }\n\n        ranges2 = sort(ranges2, (ranges) => ranges[0].from);\n\n        let range = ranges2[0][0];\n        ranges2[0] = ranges2[0].slice(1);\n\n        for (let i = 1; i < ranges2.length; i++) {\n            consumeRanges(ranges2[i], range);\n        }\n\n        ret.push(range);\n    }\n\n    return ret;\n};\nexports.merge = merge;\n\nconst rangesGross = (ranges) => {\n    return {\n        from: Math.min(...ranges.map((r) => r.from)),\n        to  : Math.max(...ranges.map((r) => r.to)),\n    }\n};\nexports.rangesGross = rangesGross;\n\n\nconst consumeRanges = (ranges, range) => {\n    for (;ranges.length > 0;) {\n        const tr = ranges[0];\n        if (tr.from <= range.to) {\n            range.to = Math.max(range.to, tr.to);\n            ranges.splice(0, 1);\n        } else {\n            break;\n        }\n    }\n};\n\nconst exclude22 = (oriRanges, holes, compares) => {\n    if (oriRanges == null) {\n        return null;\n    }\n\n    let ret = [];\n    for (const oriRange of oriRanges) {\n        ret = [...ret, ...exclude12(oriRange, holes, compares)];\n    }\n    return ret;\n};\nexports.exclude = exclude22;\n\nconst exclude12 = (oriRange, holes, compares) => {\n    let ret = [oriRange];\n\n    for (const hole of holes) {\n        for (let i = ret.length - 1; i > -1; i--) {\n            const oriRange = ret[i];\n\n            ret.splice(i, 1, ...exclude11(oriRange, hole, compares));\n        }\n    }\n    return ret;\n};\nexports.exclude12 = exclude12;\n\nconst compares = {\n    le: (v1, v2) => v1 <= v2,\n    lt: (v1, v2) => v1 <  v2,\n    ge: (v1, v2) => v1 >= v2,\n};\n\nconst exclude11 = (oriRange, hole, c) => {\n\n    if (!conflict(oriRange, hole, c)) {\n        return [oriRange];\n    }\n\n    // They have to conflict at some point...\n\n    const {le, ge, lt} = c || compares;\n    if (hole.to == null || (oriRange.to != null && le(oriRange.to, hole.to))) { // hole cover ori to\n        if (hole.from != null && (oriRange.from == null || lt(oriRange.from, hole.from))) { // hole does not cover ori from\n            // hole cuts later half of oriRange\n            return [{...oriRange, from: oriRange.from, to: hole.from}];\n        } else {\n            // Hole cover all ori -> Vanishes\n            return [];\n        }\n    } else {\n        // hole does not cover ori to\n        if (hole.from == null || (oriRange.from!= null && ge(oriRange.from, hole.from))) {\n            // Hole cuts first half of ori\n            return [{...oriRange, from: hole.to, to: oriRange.to}];\n        } else {\n            // ori range cover hole\n            return [\n                {...oriRange, from: oriRange.from, to: hole.from},\n                {...oriRange, from: hole.to, to: oriRange.to},\n            ];\n        }\n    }\n};\nexports.exclude11 = exclude11;\n\nconst sortRanges = (ranges) => sort(ranges, (r) => r.from);\nexports.sortRanges = sortRanges;\n\nconst equalRanges = (r1, r2) => {\n    if (r1 == null) {\n        return r2==null;\n    } else if (r2==null) {\n        return false;\n    }\n    return r1.from === r2.from && r1.to === r2.to;\n};\nexports.equalRanges = equalRanges;\n\n/**\n * Non conflicting\n */\nconst insertSorted = (ranges, range, {le} = compares) => {\n    if (range == null) return ranges;\n    if (ranges == null) {\n        return [range];\n    }\n    for (let i = 0; i < ranges.length; i++) {\n        const r1 = ranges[i];\n        if (range.from == null || (range.to != null && le(range.to, r1.from))) {\n            return [...ranges.slice(0, i), range, ...ranges.slice(i)];\n        }\n    }\n    return [...ranges, range];\n};\nexports.insertSorted = insertSorted;\n\nconst rangeAdd = (range, delta) => ({\n    from: range.from + delta,\n    to: range.to + delta,\n});\n\nexports.rangeAdd = rangeAdd;\n\n/**\n * 1-5 + 3-8 = 1-3,3-5,5-8\n * @param ranges\n */\nconst fragmentRanges = (ranges) => {\n    if (ranges == null) return null;\n\n    let fragmenteds = [];\n    for (const range of ranges) {\n        fragmenteds = addFraRanges([range], fragmenteds);\n    }\n\n    return sortRanges(fragmenteds);\n};\nexports.fragmentRanges = fragmentRanges;\n\nconst addFraRange = (rsToAdd, rFra) => {\n    let oris = [rFra];\n    for (let i = oris.length - 1; rsToAdd.length && i > -1; i--) {\n        const rO = oris[i];\n\n        let remains = [];\n        for (const rToAdd of rsToAdd) {\n            if (conflict(rO, rToAdd)) {\n                oris.splice(i, 1,\n                    ...exclude11(rO, rToAdd),\n                    common(rO, rToAdd),\n                );\n                remains = [...remains, ...exclude11(rToAdd, rO)];\n            } else {\n                remains.push(rToAdd);\n            }\n        }\n        rsToAdd = remains;\n    }\n    return {\n        oris,\n        remains: rsToAdd,\n    };\n};\nconst addFraRanges = (rsToAdd, fragmenteds) => {\n\n    let rsFra = fragmenteds.slice(0);\n\n    for (let i = rsFra.length - 1; i > -1; i--) {\n        const {oris, remains} = addFraRange(rsToAdd, rsFra[i]);\n\n        rsToAdd = remains;\n        rsFra.splice(i, 1, ...oris);\n    }\n\n    rsFra = [...rsFra, ...rsToAdd];\n    return rsFra;\n};\n\nconst common = (r1, r2) => !conflict(r1, r2) ? null : ({\n    from: Math.max(r1.from, r2.from),\n    to: Math.min(r1.to, r2.to),\n});\nexports.commonRange = common;\n\nconst sumRangeWeights = (rws) => rws && chain(\n    fragmentRanges(rws.map((rw) => rw.range)),\n    (ranges) => ranges.map((range) => ({\n        range,\n        weight: sum(rws.map((rw) => conflict(range, rw.range) ? rw.weight: 0)),\n    })),\n);\nexports.sumRangeWeights = sumRangeWeights;\n\nconst combineRangeWeights = (rws1, rws2, fn) => {\n    if (!rws1 || !rws2) {\n        return null;\n    }\n    return chain(\n        fragmentRanges([...rws1.map((rw) => rw.range), ...rws2.map((rw) => rw.range)]),\n        (ranges) => ranges.map((range) => ({\n            range,\n            weight: fn(\n                sum(rws1.map((rw) => conflict(range, rw.range) ? rw.weight : 0)),\n                sum(rws2.map((rw) => conflict(range, rw.range) ? rw.weight : 0)),\n            ),\n        })),\n    );\n};\nexports.combineRangeWeights = combineRangeWeights;\n\nconst getWeight = (x, rws) => {\n    const rw = rws.find((rw) => inRange(x, rw.range));\n    return rw && rw.weight;\n};\nexports.getWeight = getWeight;\n\nconst getMinRangeWeight = (range, rws) => chain(\n    sumRangeWeights(rws),\n    (rangeWeights) => findMinValue(rangeWeights.filter((rw) => range == null || conflict(range, rw.range)).map((rw) => rw.weight)) || 0,\n);\nexports.getMinRangeWeight = getMinRangeWeight;\n\n\nconst getMaxRangeWeight = (range, rws) => chain(\n    sumRangeWeights(rws),\n    (rangeWeights) => findMaxValue(rangeWeights.filter((rw) => range == null || conflict(range, rw.range)).map((rw) => rw.weight)) || 0,\n);\nexports.getMaxRangeWeight = getMaxRangeWeight;\n\nconst extendsRange = (range, length) => ({\n    from: range.from - length,\n    to  : range.to   + length,\n});\nexports.extendsRange = extendsRange;\n\nconst expandRange = (range, amount) => {\n    return {\n        from: range.from - amount,\n        to: range.to + amount,\n    };\n};\nexports.expandRange = expandRange;\n\nconst moveRange = (range, delta) => {\n    return {\n        from: range.from != null ? range.from + delta : null,\n        to  : range.to   != null ? range.to   + delta : null,\n    };\n};\nexports.moveRange = moveRange;\n","const React = require(\"react\");\nconst {createElement: h} = require(\"react\");\n\nconst OnUnmounted = ({action, props, next}) => h(OnUnmounted1, {action, props, next});\nexports.OnUnmounted = OnUnmounted;\n\nclass OnUnmounted1 extends React.Component {\n    componentWillUnmount() {\n        this.props.action({\n            getLatestProps: () => this.props.props,\n        });\n    }\n\n    render() {\n        const {next} = this.props;\n        return next ? next() : null;\n    }\n}","const {createElement: h, Component} = require(\"react\");\n\nfunction redirect(location) {\n    class RedirectRoute extends Component {\n        constructor(props, context) {\n            super(props, context);\n\n            props.history.push(location);\n        }\n        render() {\n            return null;\n        }\n    }\n\n    return (props) => h(RedirectRoute, props);\n}\nexports.redirect = redirect;\n","const {createHashHistory} = require(\"history\");\n\nconst routerHistory = createHashHistory();\nexports.routerHistory = routerHistory;\n","const bindInputNumber = ({value, onChange}) => ({\n    value: value || \"\",\n    onChange: (e) => onChange(!isNaN(e.target.value) ? +e.target.value : null),\n});\nexports.bindInputNumber = bindInputNumber;\n","const {Component, createElement: h} = require(\"react\");\n\nconst IgnoreUpdate = ({next, props, when, onRender, unless}) => h(IgnoreUpdate1, {next, props, when, onRender, unless});\nexports.IgnoreUpdate = IgnoreUpdate;\n\nclass IgnoreUpdate1 extends Component {\n\n    shouldComponentUpdate(nextProps) {\n        return (nextProps.when != null && !nextProps.when(this.props.props)) || (nextProps.unless != null && !!nextProps.unless(this.props.props));\n    }\n\n    render() {\n        const {next, onRender} = this.props;\n        onRender?.();\n        return next?.() ?? null;\n    }\n}\n","const {applyWords} = require(\"./apply-words\");\nconst {chain} = require(\"../../../../../../../../common/utils/fs\");\nconst {genWordLocations} = require(\"./gen-word-locations\");\nconst {genMatrixAvoidWords} = require(\"./gen-matrix-avoid-words\");\n\nconst generateMatrix = ({size: {width, height}, wordList}) => {\n    const wordLocations = genWordLocations({width, height, lengths: wordList.map((w) => w.length)})\n    if (!wordLocations) {\n        return null;\n    }\n\n    const matrix = genMatrixAvoidWords({width, height, wordList});\n    if (!matrix) {\n        console.log(\"Cannot avoid words\");\n        return null;\n    }\n    return chain(\n        matrix,\n        (_) => applyWords(_, wordList.map((word, i) => ({word, location: wordLocations[i]})))\n    );\n\n};\nexports.generateMatrix = generateMatrix;\n\n\n","const {GlobalEvent} = require(\"../global-event\");\n\nconst GlobalMouseUp = ({action}) => GlobalEvent({\n    eventName: \"mouseup\",\n    fn: action,\n});\nexports.GlobalMouseUp = GlobalMouseUp;\n","const {TimedAction} = require(\"./timed-action\");\nconst {Static} = require(\"./static\");\n\nconst {cs} = require(\"./chain-services\");\nconst {createElement: h} = require(\"react\");\n\nconst TimeoutAction = ({delay=500, action}) => cs(\n    [\"s\", (_, next) => Static({\n        getInitValue: () => Date.now(),\n        next,\n    })],\n    ({s}) => h(TimedAction, {\n        time: s + delay,\n        action,\n    }),\n);\nexports.TimeoutAction = TimeoutAction;\n","const bindCheckbox = ({value, onChange}) => ({\n    checked: !!value,\n    onClick: () => onChange(!value),\n    readOnly: true,\n    type: \"checkbox\",\n});\nexports.bindCheckbox = bindCheckbox;\n","const selectRandom = (col) => col[Math.floor(Math.random()*col.length)];\n\nexports.selectRandom = selectRandom;\n\nfunction randomId(length = 10) {\n    let text = \"\";\n    let possible = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n\n    for( let i=0; i < length; i++ )\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n\n    return text;\n}\nexports.randomId = randomId;","const bindInput = ({value, onChange}) => ({\n    value: value || \"\",\n    onChange: (e) => onChange(e.target.value),\n});\nexports.bindInput = bindInput;\n","const waitTimeout = (delay) => new Promise((resolve, reject) => {\n    setTimeout(() => resolve(), delay);\n});\nexports.waitTimeout = waitTimeout;\n","const {Component, createElement: h} = require(\"react\");\n\nconst UseState = ({next, getInitValue, initValue}) => h(UseState1, {next, getInitValue, initValue});\nexports.UseState = UseState;\nexports.UseState1 = UseState;\n\nclass UseState1 extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            value: props.getInitValue ? props.getInitValue() : props.initValue,\n        };\n    }\n    componentWillUnmount() {\n        this.unmounted = Date.now();\n    }\n\n    setState(state, callback) {\n        if (!this.unmounted || Date.now() - this.unmounted > 3000) {\n            super.setState(state, callback);\n            return;\n        }\n    }\n\n    render() {\n        const {next} = this.props;\n        const {value} = this.state;\n\n        return next({\n            value,\n            onChange: (value1, cb) => this.setState({value: value1}, cb),\n            change: (reduceValue, cb) => {\n                this.setState(\n                    (state) => ({\n                        ...state,\n                        value: reduceValue(state.value),\n                    }),\n                    cb\n                );\n            },\n        }) || null;\n    }\n}","const cs = (...services) => {\n    return gather(services.filter(v=>v), {});\n};\nexports.cs = cs;\nexports.cs1 = cs;\n\nconst gather = (services, prev) => {\n    if (services.length === 0) {\n        throw 43525;\n    }\n    const [first, ...last] = services;\n    const [name, fn] = Array.isArray(first) ? first : [null, first];\n\n    return fn(prev, (ret) => gather(last, name!=null ? {...prev, [name]: ret} : prev));\n};\n","const {changePath} = require(\"../utils/arr-path\");\n\nconst spc = (state, path, change) => {\n    if (state.change) {\n        state.change((v) => changePath(v, path, change));\n    } else {\n        state.onChange(changePath(state.value, path, change));\n    }\n};\nexports.spc = spc;\n","\nconst applyWords = (matrix, wordLocations) => {\n    matrix = matrix.map((row) => row.slice(0));\n\n    for (const {word, location: {start, direction, length}} of wordLocations) {\n        for (let i = 0; i < length; i++) {\n            const {x, y} = direction === \"horizontal\" ? {\n                x: start.x + i,\n                y: start.y,\n            } : {\n                x: start.x,\n                y: start.y + i,\n            };\n            matrix[y][x] = word[i];\n        }\n    }\n    return matrix;\n};\nexports.applyWords = applyWords;\n","const {conflict} = require(\"./conflict\");\n\nconst genWordLocations = ({width, height, lengths}) => {\n    if (lengths.findIndex((length) => length > width && length > height) > -1) {\n        return null;\n    }\n\n    let locations = [];\n\n    for (let i = 0; i < lengths.length; i++) {\n        const length = lengths[i];\n\n        const loc = genLoc({width, height, length, preLocs: locations});\n        if (!loc) {\n            return null;\n        }\n        locations.push(loc);\n    }\n    // console.log(locations)\n\n    return locations;\n};\nexports.genWordLocations = genWordLocations;\n\nconst genLoc = ({preLocs, width, height, length}) => {\n    for (let i = 0; i < 100; i++) {\n        const loc = (() => {\n            const direction = Math.random() < .7 ? \"horizontal\" : \"vertical\";\n            return {\n                start: direction === \"horizontal\" ? {\n                    x: Math.floor(Math.random() * (width - length)),\n                    y: Math.floor(Math.random() * (height)),\n                } : {\n                    x: Math.floor(Math.random() * (width)),\n                    y: Math.floor(Math.random() * (height - length)),\n                },\n                direction,\n                length,\n            };\n        })();\n\n        if (!preLocs.find((l1) => conflict(l1, loc))) {\n            return loc;\n        }\n    }\n};\n","const {createArray} = require(\"../../../../../../../../common/utils/collections\");\nconst {findWord} = require(\"../words/find-word\");\n\nconst genMatrixAvoidWords = ({width, height, wordList}) => {\n    const gen1 = () => createArray(height).map(() => (\n        // \"called\".split(\"\")\n        createArray(width).map(() => (\n            String.fromCharCode(\"a\".charCodeAt(0) + Math.floor(Math.random() * 26))\n            // \"x\"\n        ))\n    ));\n\n    for (let i = 0; i < 100; i++) {\n        const matrix = gen1();\n        if (wordList.find((word) => findWord(word, matrix))) {\n            continue;\n        }\n        return matrix;\n    }\n};\nexports.genMatrixAvoidWords = genMatrixAvoidWords;\n\n","const {readWord} = require(\"./read-word\");\nconst findWord = (word, matrix) => {\n    for (let y = 0; y < matrix.length; y++) {\n        for (let x = 0; x < matrix[0].length; x++) {\n            let d = horizontal(word.length, {x, y});\n            if (word === readWord({d, matrix})) {\n                return d;\n            }\n            d = vertical(word.length, {x, y});\n            if (word === readWord({d, matrix})) {\n                return d;\n            }\n        }\n    }\n};\nexports.findWord = findWord;\n\nconst horizontal = (length, start) => ({\n    start,\n    direction: \"horizontal\",\n    length,\n});\nconst vertical = (length, start) => ({\n    start,\n    direction: \"vertical\",\n    length,\n});","const {cs} = require(\"./chain-services\");\nconst {OnUnmounted} = require(\"./on-unmounted\");\nconst {Static2} = require(\"./static-2\");\nconst {fragments} = require(\"./fragments\");\nconst {Invoke} = require(\"./invoke\");\n\nconst GlobalEvent = ({eventName, fn, next=undefined}) => cs(\n    [\"listener\", (_, next) => Static2({next})],\n    ({listener}) => fragments(\n        Invoke({\n            props: {fn},\n            fn: ({getLatestProps}) => {\n                const listener1 = (e) => {\n                    const {fn} = getLatestProps();\n                    fn(e);\n                };\n                window.addEventListener(eventName, listener1);\n                listener.set(listener1);\n            },\n        }),\n        OnUnmounted({\n            action: () => {\n                const l1 = listener.get();\n                if (l1) {\n                    window.removeEventListener(eventName, l1);\n                }\n            },\n        }),\n        next?.(),\n    ),\n);\nexports.GlobalEvent = GlobalEvent;\n","const {Static} = require(\"./static\");\nconst {createElement: h} = require(\"react\");\n\nconst Static2 = ({next}) => h(Static, {\n    getInitValue: () => {\n        let value;\n        return ({\n            get: () => value,\n            set: (v) => value = v,\n        });\n    },\n    next,\n});\nexports.Static2 = Static2;\n","const {TimedRefresh} = require(\"./timed-refresh\");\nconst {FComponent} = require(\"./f-component\");\nconst {cs} = require(\"./chain-services\");\nconst {createElement: h} = require(\"react\");\n\nconst TimedAction = ({time, props, skippable, action}) => cs(\n    ({}, next) => h(TimedRefresh, {\n        delay: 24*60*60*1000,\n        next,\n    }),\n    ({}) => time - Date.now() < 24 * 60*60*1000 && h(TimedAction1, {time, props, skippable, action}),\n)\nexports.TimedAction = TimedAction;\n\nclass TimedAction1 extends FComponent {\n    constructor(props, context) {\n        super(props, context);\n\n        this.onMount(() => {\n            this.setupTimeout();\n            this.onUnmount(() => {\n                this.clear && this.clear();\n            });\n        });\n    }\n\n    setupTimeout() {\n        this.clear && this.clear();\n        this.clear = null;\n\n        let delay = this.props.time - Date.now();\n        if (delay<0) {\n            if (!this.props.skippable) {\n                delay = 0;\n            }\n        }\n\n        if (delay < 0) {\n            return;\n        }\n\n        const timeout = setTimeout(() => {\n            this.clear = null;\n\n            this.props.action({\n                getLatestProps: () => this.props.props,\n            });\n        }, delay);\n        this.clear = () => clearTimeout(timeout);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.time !== this.props.time) {\n            this.setupTimeout();\n        }\n    }\n    render() {\n        return null;\n    }\n}\n","const {Component} = require(\"react\");\n\nclass TimedRefresh extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.setupTimeout();\n    }\n\n    setupTimeout() {\n        this.clear && this.clear();\n        const delay = this.props.delay || this.props.getRefreshTime() - Date.now();\n\n        // console.log(`Refresh: delay ${delay / (60*60*1000)}`);\n        const timeout = setTimeout(() => {\n            this.clear = null;\n\n            this.forceUpdate();\n\n            this.setupTimeout();\n        }, delay);\n        this.clear = () => clearTimeout(timeout);\n    }\n\n    componentWillUnmount() {\n        this.clear && this.clear();\n    }\n    componentDidUpdate(prevProps) {\n        if (\n            (this.props.getRefreshTime && prevProps.getRefreshTime() !== this.props.getRefreshTime()) ||\n            (this.props.delay && prevProps.delay !== this.props.delay)\n        ) {\n            this.setupTimeout();\n        }\n    }\n    render() {\n        const {render, next} = this.props;\n        return next ? next() : render();\n    }\n}\nexports.TimedRefresh = TimedRefresh;","module.exports = __webpack_public_path__ + \"static/media/buzz.5780f111.wav\";","import {cs} from \"../../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport {Link} from \"react-router-dom\";\n\nexport const Layout = ({next}) => cs(\n    ({}) => (\n        <div className=\"layout\">\n            <div className=\"\">\n                <Link to={\"/index\"}><i className=\"fa fa-arrow-left\"/> Back</Link>\n            </div>\n\n            <div className=\"\">\n                {next()}\n            </div>\n        </div>\n    )\n);\n","import {Load} from \"../../../../../../common/react/load\";\nimport {unique, sort, uniqueDeep} from \"../../../../../../common/utils/collections\";\nimport {cs} from \"../../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport {LsState} from \"../../../../../../common/react/ls-state\";\nimport \"../common/main.scss\";\nimport {Layout} from \"../../common/layout/layout\";\n\nexport const MatchCommon = ({type}) => cs(\n    ({}, next) => Layout({next}),\n    [\"config\", (_, next) => LsState({\n        key: `math-match-${type}.config`,\n        defaultValue: {\n            max: 50,\n        },\n        next,\n    })],\n\n    [\"result\", ({config}, next) => Load({\n        _key: JSON.stringify(config.value),\n        fetch: () => generate(config.value),\n        next,\n    })],\n    ({result}) => result && (\n        <div className=\"math-main-1\">\n            <div className=\"\">\n                Biểu diễn các số dưới đây dưới dạng {type === \"plus\" ? \"tổng\" : \"hiệu\"} của 2 số cho trước\n            </div>\n            <div className=\"\">\n                {result.feeds.join(\", \")}\n            </div>\n            <div className=\"\">\n                {result.combis.map(({i1, i2}, i) => (\n                    <div key={i}>\n                        {type === \"plus\" ? (\n                            `${result.feeds[i1] + result.feeds[i2]} = ${result.feeds[i1]} + ${result.feeds[i2]}`\n                        ) : (\n                            `${result.feeds[i2] - result.feeds[i1]} = ${result.feeds[i2]} - ${result.feeds[i1]}`\n                        )}\n                    </div>\n                ))}\n            </div>\n        </div>\n    )\n);\n\nconst generate = ({max}) => {\n    const feeds = (() => {\n        let nums = [];\n        for (;nums.length < 10;) {\n            nums.push(Math.floor(Math.random() * 30) + 1);\n            nums = unique(nums);\n        }\n        return sort(nums);\n    })();\n\n    const combis = (() => {\n        let combis = [];\n\n        for (;combis.length < 10;) {\n            const combi = (() => {\n                const i1 = randomFrom(0, feeds.length - 1);\n                const i2 = randomFrom(i1 + 1, feeds.length);\n                return {i1, i2};\n            })();\n            if (feeds[combi.i1] + feeds[combi.i2] <= max) {\n                combis.push(combi);\n                combis = uniqueDeep(combis);\n            }\n        }\n        return sort(combis, ({i1, i2}) => i1 + i2);\n    })();\n\n    // console.log(feeds)\n    return {feeds, combis};\n};\n\nconst randomFrom = (from, to) => {\n    return Math.floor(Math.random() * (to - from)) + from;\n};","import * as React from \"react\";\nimport \"../common/main.scss\";\nimport {MatchCommon} from \"./match-common\";\n\nexport const MatchPlus = ({}) => MatchCommon({type: \"plus\"});\n","import {Load} from \"../../../../../../common/react/load\";\nimport {createArray} from \"../../../../../../common/utils/collections\";\nimport {cs} from \"../../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport {LsState} from \"../../../../../../common/react/ls-state\";\nimport \"../common/main.scss\";\nimport {Layout} from \"../../common/layout/layout\";\nimport {genNumbers} from \"../common/gen-numbers\";\nimport {genInt} from \"../common/generators/common/gen-int\";\nimport {formatEquation} from \"../common/format-equation\";\n\nexport const MathMinus = ({}) => cs(\n    ({}, next) => Layout({next}),\n    [\"config\", (_, next) => LsState({\n        key: \"math-minus.config\",\n        defaultValue: {\n            max: 20,\n        },\n        next,\n    })],\n\n    [\"result\", ({config}, next) => Load({\n        _key: JSON.stringify(config.value),\n        fetch: () => generate(config.value),\n        next,\n    })],\n    ({result}) => result && (\n        <div className=\"math-main-1\">\n            <div className=\"\">\n                Trừ dưới 20\n            </div>\n            <div className=\"\">\n                {result.map((eq, i) => (\n                    <div key={i}>\n                        {formatEquation(eq)}\n                    </div>\n                ))}\n            </div>\n        </div>\n    )\n);\n\nconst generate = ({max}) => {\n    return createArray(20).map(() => genNumbers([\n        () => genInt(2, max),\n        (prev) => genInt(1, max, (n) => n < prev[0])\n    ]));\n};\n","import * as React from \"react\";\nimport \"../common/main.scss\";\nimport {MatchCommon} from \"./match-common\";\n\nexport const MatchMinus = ({}) => MatchCommon({type: \"minus\"});\n","import {Load} from \"../../../../../../common/react/load\";\nimport {createArray} from \"../../../../../../common/utils/collections\";\nimport {cs} from \"../../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport {LsState} from \"../../../../../../common/react/ls-state\";\nimport \"../common/main.scss\";\nimport {Layout} from \"../../common/layout/layout\";\nimport {genNumbers} from \"../common/gen-numbers\";\nimport {genInt} from \"../common/generators/common/gen-int\";\nimport {formatEquation} from \"../common/format-equation\";\nimport {bindInputNumber} from \"../../../../../../common/react/bind-input-number\";\nimport {scope} from \"../../../../../../common/react/scope\";\nimport {IgnoreUpdate} from \"../../../../../../common/react/ignore-update\";\nimport {UseState} from \"../../../../../../common/react/use-state\";\n\nconst defaultConfig = {\n    firstMin: 50,\n    max: 110,\n    numCount: 3,\n    eqCount: 10,\n};\n\nexport const MathPlusMinus110 = ({}) => cs(\n    ({}, next) => Layout({next}),\n    [\"config\", (_, next) => LsState({\n        key: \"math-plus-minus-110.config\",\n        defaultValue: defaultConfig,\n        next: ({value, ...props}) => next({\n            value: {...defaultConfig, ...value},\n            ...props,\n        }),\n    })],\n\n    [\"state\", (_, next) => UseState({next})],\n\n    [\"result\", ({config, state}, next) => Load({\n        _key: JSON.stringify([config.value, state.value]),\n        fetch: () => generate(config.value),\n        next,\n    })],\n    ({result}, next) => IgnoreUpdate({\n        when: () => !result,\n        next\n    }),\n    ({result, config, state}) => result && (\n        <div className=\"math-main-1\">\n            <div className=\"\">\n                Cộng trừ dưới {config.value.max}\n            </div>\n            <div className=\"\">\n                {result.map((eq, i) => (\n                    <div key={i}>\n                        {i+1}. {formatEquation(eq)} = ?\n                    </div>\n                ))}\n            </div>\n\n            {cs(\n                [\"expanded\", (_, next) => UseState({next})],\n                ({expanded}) => (\n                    <div className=\"config\">\n                        <div className=\"\">\n                            <a onClick={() => state.change(v=>(v??0)+1)}>More</a>\n                        </div>\n                        <div className=\"\">\n                            <a onClick={() => expanded.change(v=>!v)}>Config</a>\n                        </div>\n\n                        {expanded.value && [\n                            {\n                                label: \"First min\",\n                                path: [\"firstMin\"],\n                            },\n                            {\n                                label: \"Max\",\n                                path: [\"max\"],\n                            },\n                            {\n                                label: \"Num Count\",\n                                path: [\"numCount\"],\n                            },\n                            {\n                                label: \"Equation Count\",\n                                path: [\"eqCount\"],\n                            },\n                        ].map(({label, path}, i) => (\n                            <div className=\"\" key={i}>\n                                {label}:\n                                <input {...{\n                                    ...bindInputNumber(scope(config, path))\n                                }} />\n                            </div>\n                        ))}\n                    </div>\n                )\n            )}\n        </div>\n    )\n);\n\nconst generate = ({firstMin, max, numCount, eqCount}) => {\n    return createArray(eqCount).map(() => genNumbers(\n        createArray(numCount).map(() =>\n            (prev) => genInt(prev.length === 0 ? firstMin : 0, max, (n) => prev.findIndex((n1) => n1 === n) === -1),\n        )\n    ));\n};\n","import {cs} from \"../../../../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport \"./grid.scss\";\nimport {cx} from \"emotion\";\nimport {keyed} from \"../../../../../../../../common/react/keyed\";\nimport {ActiveEvents} from \"../../../../../../../../common/react/active-events\";\nimport {GlobalMouseUp} from \"../../../../../../../../common/react/keys/global-mouse-up\";\n\nexport const Grid = ({matrix, onMouseDown, onMouseEnter, onTouchEnd, getColor, markedLocations}) => cs(\n    () => (\n        <div className=\"grid grid-3ow\">\n            <table >\n                <tbody>\n                {matrix?.map((row, y) => (\n                    <tr className=\"\" key={y}>\n                        {row.map((cell, x) => cs(\n                            keyed(x),\n                            [\"ae\", (_, next) => ActiveEvents({\n                                events: {\n                                    onTouchStart: (e) => {\n                                        if (e.touches.length === 1) {\n                                            e.preventDefault();\n                                            onMouseDown?.({x,y});\n                                        }\n                                    },\n                                    onTouchEnd: () => {\n                                        onTouchEnd?.();\n                                    },\n                                    onTouchMove: (e) => {\n                                        e.preventDefault();\n                                        const rootRect = closest(e.target, (e) => e.nodeName === \"TABLE\").getBoundingClientRect();\n                                        const touch = e.touches[0];\n\n                                        onMouseEnter?.({\n                                            x: Math.floor((touch.clientX - rootRect.left) / rootRect.width * matrix[0].length),\n                                            y: Math.floor((touch.clientY - rootRect.top) / rootRect.height * matrix.length),\n                                        });\n                                    },\n\n                                },\n                                next,\n                            })],\n                            ({ae}) => (\n                                <td {...{\n                                    onMouseDown : () => onMouseDown?.({x,y}),\n                                    onMouseEnter: () => onMouseEnter?.({x,y}),\n                                    ref: ae.ref,\n                                    className: cx(getColor({x,y}, cell)),\n                                }}>\n                                    {cell}\n                                </td>\n                            ),\n                        ))}\n                    </tr>\n                ))}\n                </tbody>\n            </table>\n\n            <div className=\"markedLocations\">\n                {markedLocations?.map((location, i) => (\n                    <div {...{\n                        key: i,\n                        className: cx(\"location\", location.direction),\n\n                        ...location.direction === \"horizontal\" ? {\n                            style: {\n                                top : location.start.y * 40 + 5,\n                                left: location.start.x * 40 + 5,\n                                width: location.length * 40 - 5*2,\n                            },\n                        }: {\n                            style: {\n                                top : location.start.y * 40 + 5,\n                                left: location.start.x * 40 + 5,\n                                height: location.length * 40 - 5*2,\n                            },\n                        },\n                    }}/>\n                ))}\n            </div>\n\n\n            {onTouchEnd && <>\n                {GlobalMouseUp({\n                    action: onTouchEnd,\n                })}\n            </>}\n        </div>\n    )\n);\n\n\nconst closest = (node, check) => {\n    if (check(node)) {\n        return node;\n    }\n    const parentNode = node.parentNode;\n    if (!parentNode) {\n        return null;\n    }\n    return closest(parentNode, check);\n};","import {Grid} from \"./grid/grid\";\nimport {spc} from \"../../../../../../../common/react/state-path-change\";\nimport {readWord} from \"./words/read-word\";\nimport {conflict} from \"./generate/conflict\";\nimport {equalDeep} from \"../../../../../../../common/utils/equal-deep\";\n\nexport const Grid1 = ({matrix, state, isValid}) => Grid({\n    matrix,\n\n    markedLocations: state.value.markeds?.map((r) => r.location),\n\n    ...!state.value?.selecting ? {\n        onMouseDown: (pos) => {\n            spc(state, [\"selecting\"], () => ({start: pos}))\n        },\n    } : {\n        onMouseEnter: (pos) => {\n            const {start} = state.value.selecting;\n            if (pos.x === start.x && pos.y > start.y) {\n                spc(state, [\"selecting\"], (s) => ({\n                    ...s,\n                    direction: \"vertical\",\n                    length: pos.y - start.y + 1,\n                }));\n            } else if (pos.y === start.y && pos.x > start.x) {\n                spc(state, [\"selecting\"], (s) => ({\n                    ...s,\n                    direction: \"horizontal\",\n                    length: pos.x - start.x + 1,\n                }));\n            } else {\n                spc(state, [\"selecting\"], (s) => ({start: s.start}));\n            }\n        },\n        onTouchEnd: () => {\n            const location = state.value.selecting;\n            const word = readWord({matrix, d: location});\n\n            state.change((s) => ({\n                ...s,\n                selecting: null,\n                markeds: word && isValid(word) && !state.value.markeds?.find((m) => m.word === word) ? (\n                    [\n                        ...(state.value.markeds||[]).filter((m) => !conflict(m.location,location)),\n                        {word, location},\n                    ]\n                ) : (\n                    state.value.markeds\n                ),\n            }));\n        },\n    },\n\n    getColor: (pos, char) => {\n        if (state.value?.selecting) {\n            const {start, direction, length} = state.value.selecting;\n            if (equalDeep(pos, start)) {\n                return \"green\";\n            }\n\n            if (direction === \"horizontal\" && pos.y === start.y && pos.x > start.x && pos.x - start.x < length) {\n                return \"green\";\n            }\n            if (direction === \"vertical\" && pos.x === start.x && pos.y > start.y && pos.y - start.y < length) {\n                return \"green\";\n            }\n        }\n\n        if (state.value?.hintWord) {\n            if (state.value.hintWord[0].toLowerCase() === char) {\n                return \"yellow\";\n            }\n        }\n    },\n});","import \"./game.scss\";\nimport * as React from \"react\";\nimport {cs} from \"../../../../../../../common/react/chain-services\";\nimport {UseState} from \"../../../../../../../common/react/use-state\";\nimport {generateMatrix} from \"./generate/generate-matrix\";\nimport {spc} from \"../../../../../../../common/react/state-path-change\";\nimport {Load2} from \"../../../../../../../common/react/load2\";\nimport {WordList} from \"./word-list/word-list\";\nimport {Grid1} from \"./grid1\";\nimport {TimeoutAction} from \"../../../../../../../common/react/timeout-action\";\nimport {scope} from \"../../../../../../../common/react/scope\";\nimport {chain} from \"../../../../../../../common/utils/fs\";\nimport {unique} from \"../../../../../../../common/utils/collections\";\nimport {bindCheckbox} from \"../../../../../../../common/react/bind-checkbox\";\n\nexport const Game = ({size, sentence}) => cs(\n    [\"wordList\", (_, next) => next(chain(\n        toWordList(sentence),\n        (wl) => unique(wl, (w) => w.word),\n    ))],\n    [\"size\", ({wordList}, next) => {\n        return next(Math.max(size, ...wordList.map((w) => w.word.length)));\n    }],\n    [\"state\", (_, next) => UseState({\n        initValue: {key: 1, selecting: null, markeds: []},\n        next,\n    })],\n    [\"config\", (_, next) => UseState({next})],\n    [\"matrix\", ({state, size, wordList}, next) => Load2({\n        _key: state.value.key,\n        fetch: () => generateMatrix({size: {width: size, height: size}, wordList: wordList.filter((w) => !w.disabled).map((w) => w.word.toLowerCase())}),\n        next,\n    })],\n    ({matrix, state, wordList, config}) => !matrix.loading && (\n        <div className=\"game-1i1\">\n            <div className=\"box\">\n                <div className=\"line1\">\n\n                    {!config.value?.hideWords && WordList({\n                        wordList: toWordList(sentence),\n                        isSelected: (word) => state.value.markeds?.find((m) => m.word === word.toLowerCase()),\n                        onHold: (word) => spc(state, [\"hintWord\"], () => word),\n                        onRelease: () => spc(state, [\"hintWord\"], () => null),\n                    })}\n\n                    {Grid1({matrix: matrix.value, state, isValid: (word) => wordList.find((w) => w.word.toLowerCase() === word && !w.disabled)})}\n                </div>\n\n                <div className=\"status\">\n                    {!matrix.value && (\n                        <div className=\"\">\n                            Cannot generate matrix\n                        </div>\n                    )}\n\n                    {!wordList.find((w) => !w.disabled && !state.value.markeds?.find((m) => m.word === w.word.toLowerCase())) && (\n                        <div className=\"congratulations\">\n                            Congratulations, you finished it !\n                        </div>\n                    )}\n                </div>\n\n                {config.value?.autoHideWords && !config.value?.hideWords && TimeoutAction({\n                    delay: 1000,\n                    action: () => spc(config, [\"hideWords\"], () => true ),\n                })}\n\n                <div className=\"controls\">\n                    <div className=\"checkbox\">\n                        <input {...{\n                            ...bindCheckbox(scope(config, [\"autoHideWords\"]))\n                        }}/>\n                    </div>\n                    <button\n                        onClick={() => spc(config, [\"hideWords\"], v=>!v )}\n                    >Show/hide words</button>\n\n                    <button\n                        onClick={() => state.onChange({\n                            key: state.value.key+1,\n                        })}\n                    >Reset</button>\n                </div>\n            </div>\n\n        </div>\n    )\n);\n\nconst toWordList = (sentence) => sentence.replace(/[^a-z ]/ig,\"\").split(\" \").map((word) => ({\n    word,\n    disabled: word.length === 1,\n}));\n","import {cs} from \"../../../../../../../../common/react/chain-services\";\nimport {cx} from \"emotion\";\nimport * as React from \"react\";\nimport {keyed} from \"../../../../../../../../common/react/keyed\";\nimport \"./word-list.scss\";\nimport {ActiveEvents} from \"../../../../../../../../common/react/active-events\";\n\nexport const WordList = ({wordList, isSelected, onHold, onRelease}) => (\n    <div className=\"word-list word-list-9yf\">\n        {wordList.map(({word, disabled}, i) => cs(\n            keyed(i),\n            [\"ae\", (_, next) => ActiveEvents({\n                events: {\n                    onTouchStart: (e) => {\n                        e.preventDefault();\n                        onHold(word);\n                    },\n                },\n                next,\n            })],\n            ({ae}) => (\n                <div\n                    ref={ae.ref}\n                    className={cx(\"word\", {selected: isSelected(word), disabled})}\n                    onMouseDown={(e) => {\n                        e.preventDefault();\n                        onHold(word);\n                    }}\n                    onMouseUp={() => onRelease()}\n                    onMouseLeave={() => onRelease()}\n                    onTouchEnd={() => onRelease(word)}\n                >\n                    {word}\n                </div>\n            )\n        ))}\n    </div>\n);\n\n\n","import * as React from \"react\";\nimport {cs} from \"../../../../../../common/react/chain-services\";\nimport {UseState} from \"../../../../../../common/react/use-state\";\nimport \"./random-word.scss\";\nimport {parseUrlQuery} from \"../../../../../../common/browser/parse-url-query\";\nimport {selectRandom} from \"../../../../../../common/utils/random\";\n\nexport const RandomWord = ({location}) => cs(\n    [\"params\", (_, next) => next(parseUrlQuery(location.search)??{})],\n    [\"words\", ({params}, next) => next((params[\"s\"] ?? \"once upon a time there was a boy called\").split(/\\W+/))],\n    [\"state\", ({words}, next) => UseState({\n        getInitValue: () => selectNextWord(null, words),\n        next,\n    })],\n    ({state, words}) => (\n        <div\n            className=\"random-word-01w\"\n            onClick={() => state.change((s) => selectNextWord(s, words))}\n        >\n            <div className=\"box\">\n                {state.value}\n            </div>\n        </div>\n    ),\n);\n\nconst selectNextWord = (oldWord, words) => {\n    return repeatUntil(\n        () => {\n            const word = selectRandom(words);\n            if (word !== oldWord) {\n                return word;\n            }\n        }\n    );\n}\n\nconst repeatUntil = (fn, count = 100) => {\n\n    for (let i = 0; i < count; i++) {\n        const ret = fn();\n        if (ret) {\n            return ret;\n        }\n    }\n};","import \"./sample.scss\";\nimport * as React from \"react\";\nimport {chain} from \"../../../../../../../common/utils/fs\";\n\nexport const Sample = ({sample, value}) => (\n    <div className=\"sample sample-45s\">\n        {chain(\n            compare({sample, value}),\n            ({common, error, remain}) => <>\n                <div className=\"common\">\n                    {common}\n                </div>\n                <div className=\"error\">\n                    {error}\n                </div>\n                <div className=\"remain\">\n                    {remain}\n                </div>\n            </>\n        )}\n    </div>\n);\n\nconst compare = ({sample, value}) => {\n    value = value ?? \"\";\n    // if (!value) {\n    //     return {\n    //         remain: sample,\n    //     };\n    // }\n    for (let i = value.length; i > -1; i--) {\n        const v = value.substring(0, i);\n        if (v === sample.substring(0, i)) {\n            return {\n                common: v,\n                error: sample.substring(i, value.length),\n                remain: sample.substring(value.length),\n            }\n        }\n    }\n};","import {cs} from \"../../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport {UseState} from \"../../../../../../common/react/use-state\";\nimport {bindInput} from \"../../../../../../common/react/bind-input\";\nimport {Invoke} from \"../../../../../../common/react/invoke\";\nimport {waitTimeout} from \"../../../../../../common/utils/wait-timeout\";\nimport \"./typing-1.scss\";\nimport {keyed} from \"../../../../../../common/react/keyed\";\nimport {Sample} from \"./sample/sample\";\nimport {scope} from \"../../../../../../common/react/scope\";\n\nexport const Typing1 = ({}) => cs(\n    [\"state\", (_, next) => UseState({next})],\n    [\"sample\", (_, next) => next(sample.trim().replace(/\\s{2,}/g, \" \"))],\n    ({state, sample}) => (\n        <div className=\"typing-1-1ws\">\n            <div className=\"main\">\n                <div className=\"title\">\n                    The typing game\n                </div>\n\n                {Sample({sample, value: state.value?.typing})}\n\n                <textarea {...{\n                    ...bindInput(scope(state, [\"typing\"])),\n                    placeholder: \"Please type in the paragraph above...\",\n                }}/>\n\n                {state.value?.typing && state.value?.typing !== sample.substring(0, state.value?.typing.length) && cs(\n                    keyed(state.value.typing.length),\n                    () => PlaySound({\n                        src: require(\"./buzz.wav\"),\n                        length: .5,\n                    }),\n                )}\n\n            </div>\n        </div>\n    ),\n);\n\nconst sample = `\n    In the beginning Jack sold his cow for some magic beans.\n    Next the magic beans grew into a beanstalk and Jack climbed it.\n    Then, at the top of the beanstalk he found a giant living in the castle.\n    After that, he tried to take the harp and a hen that lays golden eggs.\n    The giant started chasing him back down the beanstalk.\n    Finally, Jack called for help and his mom came to cut down the beanstalk with an axe.\n    In the end, the giant fell off of the beanstalk and the family lived happily ever after.\n`;\n\nconst PlaySound = ({src, length}) => Invoke({\n    fn: async () => {\n        const snd = new Audio(src);\n        snd.play();\n        await waitTimeout(length * 1000);\n        snd.pause();\n    },\n});\n","import {MatchPlus} from \"../routes/math/match/match-plus\";\nimport {MathMinus} from \"../routes/math/minus/math-minus\";\nimport {MatchMinus} from \"../routes/math/match/match-minus\";\nimport {MathPlusMinus110} from \"../routes/math/plus-minus-110/math-plus-minus-110\";\nimport {WordSearchRoute} from \"../routes/literacy/word-search/word-search-route\";\nimport {RandomWord} from \"../routes/literacy/random-word/random-word\";\nimport {Typing1} from \"../routes/literacy/typing-1/typing-1\";\n\nexport const routes = [\n    { name: \"Math: Match Plus\" , path: \"/math-match-plus\" , component: MatchPlus  },\n    { name: \"Math: Match Minus\", path: \"/math-match-minus\", component: MatchMinus  },\n\n    { name: \"Math: Minus\", path: \"/math-minus\",             component: MathMinus  },\n    { name: \"Math: Plus Minus 110\", path: \"/math-plus-minus-110\",             component: MathPlusMinus110  },\n\n    { name: \"Literacy: WordSearchRoute\", path: \"/word-search\",             component: WordSearchRoute  },\n    { name: \"Literacy: Random Word\", path: \"/random-word\",             component: RandomWord  },\n    { name: \"Literacy: Typing1\"     , path: \"/typing-1\",             component: Typing1  },\n];\n","import {cs} from \"../../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport {Game} from \"./game/game\";\nimport {parseUrlQuery} from \"../../../../../../common/browser/parse-url-query\";\n\nexport const WordSearchRoute = ({location}) => cs(\n    () => {\n        const {\n            s = \"once upon a time there was a boy called Jack\",\n            size = 7,\n        } = parseUrlQuery(location.search) ?? {};\n        return (\n            <div className=\"\">\n                {Game({\n                    size: +size,\n                    sentence: s,\n                })}\n            </div>\n        );\n    }\n);\n\n","import {cs} from \"../../../../../common/react/chain-services\";\nimport * as React from \"react\";\nimport {Link} from \"react-router-dom\";\nimport {routes} from \"../../app/routes\";\n\nexport const IndexRoute = () => cs(\n    ({}) => (\n        <div className=\"index-route\">\n            {routes.map(({name, path}, i) => (\n                <div className=\"\" key={i}>\n                    <Link to={path}>{name}</Link>\n                </div>\n            ))}\n        </div>\n    )\n);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport './index.scss';\nimport {MaxApp} from \"./app/max-app\";\n\nReactDOM.render(<MaxApp/>, document.getElementById('root'));\n\n\n\n","import {cs} from \"../../../../common/react/chain-services\";\nimport {Route, Router, Switch} from \"react-router\";\nimport {redirect} from \"./common/redirect\";\nimport {routerHistory} from \"./common/router-history\";\nimport * as React from \"react\";\nimport {IndexRoute} from \"../routes/index/index-route\";\nimport {routes} from \"./routes\";\n\nexport const MaxApp = () => cs(\n    ({}) => {\n        const defaultRoute = \"/index\";\n        return (\n            <Router history={routerHistory}>\n                <Switch>\n                    {[{ path: \"/index\",              component: IndexRoute  }, ...routes].map(({path, component}, i) => (\n                        <Route\n                            key={i}\n                            exact\n                            path={path}\n                            component={component}\n                        />\n                    ))}\n\n                    <Route render={redirect(defaultRoute)}/>\n                </Switch>\n            </Router>\n        );\n    }\n)\n","const chain = (value, ...fList) => {\n    for (const fn of fList) {\n        if (fn) {\n            value = fn(value);\n        }\n    }\n    return value;\n};\n\nexports.chain = chain;\nexports.chain1 = chain;\n\nconst and = (...fList) => {\n    return (...args) => {\n        for (const fn of fList) {\n            if (!fn(...args)) {\n                return false;\n            }\n        }\n        return true;\n    };\n};\n\nexports.and = and;","const {createElement: h, Fragment} = require(\"react\");\n\nconst keyed = (key) => (_, next) => (\n    h(Fragment, {key},\n        next()\n    )\n);\nexports.keyed = keyed;","const {getPath, setPath, changePath} = require(\"../utils/arr-path\");\n\nconst scope = (state, path) => ({\n    value: getPath(state.value, path),\n    onChange: (v, cb) => {\n        if (state.change) {\n            state.change((s1) => setPath(s1, path, v), cb);\n        } else {\n            state.onChange(setPath(state.value, path, v), cb);\n        }\n    },\n    change: (reduce, cb) => {\n        if (state.change) {\n            state.change(\n                (v) => changePath(v, path, reduce),\n                cb,\n            );\n        } else {\n            state.onChange(changePath(state.value, path, reduce), cb);\n        }\n    },\n});\nexports.scope = scope;\n","const {Load2} = require(\"./load2\");\nconst {cs} = require(\"./chain-services\");\n\nconst Load = ({fetch, next, props, _key}) => cs(\n    [\"load2\", ({}, next) => Load2({\n        fetch, next, _key, props,\n    })],\n    ({load2}) => next && next(load2.value),\n);\nexports.Load = Load;\nexports.Load1 = Load;\n","const {cs} = require(\"./chain-services\");\nconst {UseState} = require(\"./use-state\");\n\nconst LsState = ({key, defaultValue, next}) => cs(\n    [\"state\", (_, next) => UseState({\n        getInitValue: () => {\n            const str = localStorage.getItem(key);\n            return str && JSON.parse(str);\n        },\n        next,\n    })],\n    ({state}) => next({\n        value: state.value ?? defaultValue,\n        onChange: (v) => {\n            state.onChange(v);\n            if (v == null) {\n                localStorage.removeItem(key);\n            } else {\n                localStorage.setItem(key, JSON.stringify(v));\n            }\n        },\n    }),\n);\nexports.LsState = LsState;\n","const {FComponent} = require(\"./f-component\");\nconst {createElement: h} = require(\"react\");\n\nconst Invoke = ({fn, props, onMounted, next}) => h(Invoke1, {fn, props, onMounted, next});\nexports.Invoke = Invoke;\n\nclass Invoke1 extends FComponent {\n    constructor(props, context) {\n        super(props, context);\n\n        props.fn && props.fn({\n            getLatestProps: () => this.props.props,\n            isMounted: () => this.mounted,\n        });\n\n        if (props.onMounted) {\n            this.onMount(() => {\n                setTimeout(() => {\n                    this.props.onMounted({\n                        getLatestProps: () => this.props.props,\n                        isMounted: () => this.mounted,\n                    });\n                }, 0);\n            });\n        }\n    }\n\n    render() {\n        const {next} = this.props;\n        return next ? next() : null;\n    }\n}","\nconst genNumbers = (numberGenerators) => {\n    let ret = [];\n    for (let i = 0; i < numberGenerators.length; i++) {\n        const numberGenerator = numberGenerators[i];\n        const num = numberGenerator(ret);\n        // console.log(num)\n        ret.push(num);\n    }\n\n    return ret;\n};\nexports.genNumbers = genNumbers;\n\n","\nconst genInt = (from, to, until) => {\n    for (let i = 0; i < 1000; i++) {\n        const i1 = genInt1(from, to);\n        if (until == null || until(i1)) {\n            return i1;\n        }\n    }\n};\nexports.genInt = genInt;\n\nconst genInt1 = (from, to) => Math.floor(Math.random() * (to-from)) + from;\n","const {genNumbers} = require(\"./gen-numbers\");\n\nconst toMath1 = (deltas) => {\n    let s = deltas[0];\n\n    for (let i = 1; i < deltas.length; i++) {\n        const delta = deltas[i];\n        s += delta >= 0 ? \" + \" + delta : \" - \" + -delta;\n    }\n    return s;\n};\n\nconst toDeltas = (numbers) => {\n    let v = numbers[0];\n    let ret = [v];\n    for (let i = 1; i < numbers.length; i++) {\n        const number = numbers[i];\n        const delta = number - v;\n        v = number;\n\n        ret.push(delta);\n    }\n    return ret;\n};\nconst formatEquation = (numbers) => {\n    return toMath1(toDeltas(numbers));\n};\nexports.formatEquation = formatEquation;","const {OnUnmounted} = require(\"./on-unmounted\");\nconst {Static} = require(\"./static\");\nconst {Invoke} = require(\"./invoke\");\nconst {fragments} = require(\"./fragments\");\nconst {UseState} = require(\"./use-state\");\nconst {cs} = require(\"./chain-services\");\n\nconst ActiveEvents = ({events, next}) => cs(\n    [\"state\", (_, next) => UseState({next})],\n    ({state}) => fragments(\n        next({\n            ref: (dom) => dom && !state.value && state.onChange(dom),\n        }),\n\n        state.value && cs(\n            [\"onRemoveds\", (_, next) => Static({initValue: [], next})],\n            ({onRemoveds}) => fragments(\n                Invoke({\n                    props: {events},\n                    fn: ({getLatestProps}) => {\n                        const dom = state.value;\n\n                        const list = [\n                            {\n                                reactName: \"onTouchStart\",\n                                domName: \"touchstart\",\n                            },\n                            {\n                                reactName: \"onTouchEnd\",\n                                domName: \"touchend\",\n                            },\n                            {\n                                reactName: \"onTouchMove\",\n                                domName: \"touchmove\",\n                            },\n                        ];\n\n                        list.forEach(({reactName, domName}) => {\n                            if (!events[reactName]) {\n                                return;\n                            }\n                            const listener = (e) => {\n                                const {events} = getLatestProps();\n                                events[reactName]?.(e);\n                            };\n                            dom.addEventListener(domName, listener);\n                            onRemoveds.push(() => {\n                                dom.removeEventListener(domName, listener);\n                            })\n                        });\n\n                    },\n                }),\n                OnUnmounted({\n                    action: () => onRemoveds.forEach((or) => or()),\n                })\n            ),\n        ),\n    ),\n);\nexports.ActiveEvents = ActiveEvents;\n","\nconst parseUrlQuery = (search) => {\n    if (search == null || search === \"\" || search[0] !== \"?\") {\n        return null;\n    }\n\n    search = search.substring(1);\n\n    const ret = {};\n    search.split(\"&\").map((pair) => {\n        const [name, encodedValue] = pair.split(\"=\");\n        ret[name] = decodeURIComponent(encodedValue);\n    });\n    return ret;\n};\nexports.parseUrlQuery = parseUrlQuery;"],"sourceRoot":""}